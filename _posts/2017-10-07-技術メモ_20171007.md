---
layout: post
title: 2017-10-07-技術メモ
---

# HTML5 Conference 2017

http://events.html5j.org/conference/2017/9/

## Deep dive into TypeScript
---

- AltJSの一種
    - Googleでも公認言語として採用されている
- 型はコードの整合性
    - 実行時のエラーは発生する
    - 型はコードに埋め込まれた最低限のドキュメント
- 3rdパーティ製ライブラリの型は？
    - 型定義ファイルがある
    - 型定義ファイルはライブラリ作成者ではなく、ボランティアで作成されている
    - 3595の型ファイルがある
    - 型定義のファイル作成は簡単
- TSはMSが後ろ盾にいるので強い
- 構造的部分型
    - JSは即時オブジェクトが多い
    - 型を宣言する必要がない
    - 構造が型を決める
- 型推論
    - BestCommonType
- ジェネリクス
    - Javaと同じ？
- 型変換
    - TypeAlias
    - Insersection
    - Union
    - String Literal Types
        - 代入できる文字リテラルを制限できる
- 型を絞り込む
- never型
    - 到達不能
    - より型安全なコードが書ける
- MappedType
    - keyof でプロパティを取り出してくれる
- Variance
    - Genricsは共変
    - 関数は双変
- IDE
    - デフォルトはVSCode
- 次回リリース機能 2017/10
    - オートコンプリートでimport補完
- 今後のロードマップ
    - 可変長の対応


## これからはじめるAngular
---

- WebStandardと相性が良い
    - ECMAScript 2015
    - ESの新しい構文も幾つか対応
        - 策定時点のものも対応されていることも
- シンプル
    - コンポーネントの定義と使用が簡単
    - テンプレート構文が簡単
        - []で属性を設定してあげればOK
    - イベントハンドラも()で書ける
- Angular CLI
    - ベストプラクティスにあった構成・ビルドをしてくれる
    - Angularで開発するには必須
- パフォーマンス
    - 変更検知が早い
    - 仮想DOMは使用していない
        - DOMを使用
- フルスタック
    - サードパーティ製のパッケージ選定をしなくても良い
        - いろいろ揃っているため
    - 開発環境、開発ツールも揃っている
    - TSはES6,ES5を含ませている
        - コンパイルをするため軽微なバグは検知できる
        - 型があるため補完機能が充実できる
- @Decorators
    - ステージ2
- TypeBased DI
    - コンストラクタの引数に型を設定するとDIする
- 補完機能（Language Service）
    - エディタが行っているのではなく、Angularのコンパイラが頑張っている
- Angular Basic API
    - @Component
    - @Input/@Output
    - @Directive
    - @Pipe
    - @NgModule
- @Component
    - ComponentTree
    - @Inputは親から値をもらう
    - @Outputは子から親に値をもらう(イベントがトリガーとなる？)
- @Directive
    - DOMの要素を拡張をしてくれる
- @Pipe
    - データを表示するときにデータを変換してくれる
        - あくまでもViewレベルの変換（先頭に$をつけるとか、カンマ区切りにするとかなど）
- Angular Modules
    - 複数のライブラリを管理する
- Angular Platforms
    - どのプラットフォームで実行するアプリか
    - Node.js
    - webworker
    - ブラウザ
- アプリ＞プラットフォーム＞モジュールという構成
- Angularはプラットフォーム
    - ビューのレンダリング
        - データをビューに変換することをレンダリング
    - モデルの変更検知
        - DOMの変更を管理する
    - ビューの切り替え　ルーティング
        - パスとコンポーネントをマッピングしている
    - Ajaxの機能　サーバにアクセスする
        - httpクライアントを提供している
        - 遅延実行可能
- Angular Material
    - UI部分のコンポーネント
- Auguly
    - 公式のChrome拡張
- Angular.ioもAngular
- Angular.ioとAngular CLIを学べば道を外れることはない
    - モダンなWeb標準に追随する必要がある
- 来月Angular 5が出る
    - 半年ごとにバージョンアップする
- Angular Moduleの上の層がPlatform。
    - ブラウザ、サーバー、Web Workers上等で動作するためのプラットフォームがある。
    - モジュールを変えずに、プラットフォーム指定を変更することで実行環境を変更できる。

## Web技術でネイティブアプリを開発する話
---
- https://html5experts.jp/shumpei-shiraishi/24253/
- マークアップとCSSでUI実現
- Web開発と違和感のない開発プロセス
- クロスプラットフォーム
    - ネイティブAPIやデバイス依存機能の隠蔽
- ツールの課題
    - ユーザインタフェースの構築
    - ネイティブAPIへのアクセス方法
    - 開発環境とビルド
- Electron
    - ChromiumをWebviewに用いたデスクトップアプリ向け
    - IPCプロセス間通信でネイティブUIにアクセス
    - Node.js(V8)
        - npmライブラリ
    - React Desktop
- NW.js
    - Electronと比べて
        - 歴史が長い
        - 印刷　PDF機能を持つ
        - ChromeAPIとChromeApps対応
        - HTMLをエントリポイントに
- モバイルアプリ開発の難しさ
    - CPUやGPUの性能がPCに比べて低い
    - B2BとB2Cで要件が異なる
        - B2B 安いコストで多OS展開 メンテナンスもできるだけかけたくない
        - B2C AppStoreでTop10を狙う　とにかく最高性能のアプリを
    - 画面レイアウトの違い
        - キーボードの違い
        - 標準UIのデザイン
            - iOS UIKit
            - Material Design for Android
- Cordova
    - 元祖
    - WebView
    - Webをそのままネイティブに
    - CordovaPluginとしてNPMで管理
    - JSからのネイティブブリッジ
        - cordova.exec()関数で対応するネイティブコードをコールする
    - Cordova CLI
    - WebViewの選択肢
    - 開発環境
        - Monaca
        - VSCode
- モバイルUIフレームワーク
    - OnsenUI
    - Ionic
    - jQueryUI
- React Native
    - WebViewを使わず、独自のUIレイヤー
- NativeScript

## Web 技術とブラウザ ーいま知っておくべき Web 最新動向ー
---
- dynamisで検索
- W3C関連
    - HTML5終了の提案のお知らせ
    - Obsolete Recommendationは3月にできた新しいステータス
    - 実際終わるわけではなく、標準化が進んだイメージ
        - 標準化作業が終了
    - あくまでも古いバージョンですよということを明示的にするだけ
- Chrome
    - CSS Sticky
    - CSS Grid Layout
    - Media Session API
    - フル画面アプリ
        - display:fullscreen
        - web app manifestにて指定すると全画面起動
        - iPhoneXでのフル画面って
- Sonar
    - まとめてLintできるように
    - WebページのLint
- Brotli
